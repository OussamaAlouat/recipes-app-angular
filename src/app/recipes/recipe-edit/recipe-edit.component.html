<div class="row">
  <div class="col-xs-12">
    <form [formGroup]="recipeForm" (ngSubmit)="onSubmit()">
      <div class="row">
        <div class="col-xs-12">
          <app-button
            type="submit"
            styleClass="btn btn-success"
            [disable]="!recipeForm.valid"
          >
            Save
          </app-button>
          <app-button
            type="button"
            styleClass="btn btn-danger"
            (clicked)="onCancel()"
          >
            Cancel
          </app-button>
        </div>

        <div class="row">
          <div class="col-xs-12">
            <app-form-input
              id="name"
              label="Name"
              [controlledBy]="recipeForm"
              controlName="name"
            >
            </app-form-input>
          </div>
        </div>

        <div class="row">
          <div class="col-xs-12">
            <app-form-input
              id="imagePath"
              label="Image"
              [controlledBy]="recipeForm"
              controlName="imagePath"
            >
            </app-form-input>
          </div>
        </div>

        <div class="row">
          <div class="col-xs-12">
            <img [src]="recipeForm.get('imagePath').value" width="150px" class="img-responsive">
          </div>
        </div>

        <div class="row">
          <div class="col-xs-12">
            <app-form-text-area
              [controlledBy]="recipeForm"
              controlName="description"
              label="Description"
              rows="6"
            >
            </app-form-text-area>
          </div>
        </div>

        <div class="row">
          <div class="col-xs-12">
            <app-form-checkboxes
              [types]="types"
              controlName="typeOfRecipe"
              [controlledBy]="recipeForm"
            >
            </app-form-checkboxes
            >
          </div>
        </div>

        <div class="row" v-if="editMode">
          <div class="col-xs-12" formArrayName="ingredients">
            <div class="row"
              *ngFor="let ingredientCtrl of controls; let i = index;"
              style="margin-top: 10px;"
              [formGroupName]="i"
            >
              <div class="col-xs-8">
                <app-form-input
                  [controlledBy]="ingredientCtrl"
                  controlName="name"
                >
                </app-form-input>
              </div>
              <div class="col-xs-2">
                <app-form-input
                  [controlledBy]="ingredientCtrl"
                  controlName="amount"
                  type="number"
                >
                </app-form-input>
              </div>
              <div class="col-xs-2">
                <app-button
                  type="button"
                  styleClass="btn btn-danger"
                  (clicked)="onDeleteIngredient(i)"
                >
                  X
                </app-button>
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-xs-12">
                <app-button
                  type="button"
                  styleClass="btn btn-success"
                  (clicked)="onAddIngredient()"
                  id="addIngredient"
                >
                  Add ingredient
                </app-button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
